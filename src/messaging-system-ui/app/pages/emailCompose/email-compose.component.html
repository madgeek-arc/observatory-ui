<div class="uk-modal-dialog">

  <div class="uk-modal-header">
    <h6 class="uk-modal-title uk-margin-remove">New message</h6>
    <button class="uk-modal-close-default" type="button" uk-close></button>
  </div>

  <div class="uk-modal-body">

    <form *ngIf="newMessage" [formGroup]="newMessage">
      <div class="uk-flex uk-flex-middle" style="border-bottom: 1px solid #ddd">
        <div class="">From:</div>
        <div *ngIf="userInfo" class="uk-form-controls uk-margin-left">
          <div class="uk-flex uk-flex-middle" style="height: 40px;">
            <span class="uk-text-bold">{{userInfo.user.fullname}}</span>
            <span class="uk-margin-small-left uk-text-muted">({{userInfo.user.email}})</span>
          </div>
        </div>
      </div>
      <div class="uk-margin-top uk-flex uk-flex-middle" formGroupName="to" style="border-bottom: 1px solid #ddd">
        <div class="">To:</div>
        <div class="uk-form-controls uk-margin-left uk-width-expand">
          <input class="uk-input uk-form-blank" type="text" [disabled]="true"
                 [value]="(message?.from.email ? message?.from.email : message?.from.groupId)+( message?.from.name ? ' (' + message.from.name +')':'')">
        </div>
      </div>
      <div class="uk-margin-top uk-flex uk-flex-middle" style="border-bottom: 1px solid #ddd">
        <div class="">Subject:</div>
        <div class="uk-form-controls uk-margin-left uk-width-expand">
          <input class="uk-input uk-form-blank" type="text" [value]="subject" [disabled]="subject">
        </div>
      </div>
    </form>

    <form [formGroup]="newMessage" class="uk-margin-medium-top">
      <ckeditor [editor]="editor" formControlName="body"></ckeditor>
    </form>

    <div class="uk-margin-top uk-flex uk-flex-middle">
      <button class="uk-button uk-button-secondary uk-flex uk-flex-middle">
        <span class="material-icons uk-margin-small-right">send</span>Send
      </button>
      <div class="uk-width-expand uk-flex uk-flex-right uk-flex-middle">
        <label class="uk-checkbox-label"><input class="uk-checkbox" type="checkbox"> Don't show my name as sender</label>
      </div>
    </div>

  </div>

  <pre>{{newMessage.value | json}}</pre>
</div>

