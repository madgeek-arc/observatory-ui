<div class="uk-section uk-section-small" #exportContent>
  <div class="uk-container uk-container-expand">

    <div class="uk-flex uk-flex-between uk-flex-middle">
      <h4>Open Science Policies</h4>
      <div class="uk-flex uk-flex-center" (click)="exportToPDF([exportContent, exportContent1, exportContent2, exportContent3, exportContent4], 'Open Science Policies')" style="cursor: pointer">
        <div class="uk-flex uk-flex-middle uk-text-primary" style="background-color: #DAEEF3; border-radius: 30px; padding: 5px 7px">
          <span class="" style="background-color: #fff; border-radius: 50px; border: 1px solid #008691; padding: 4px 10px">
            Export report
          </span>
          <span *ngIf="exportActive else elseBlock" class="uk-margin-small-left" uk-spinner="ratio: 0.7"></span>
          <ng-template #elseBlock>
            <span class="material-symbols-outlined filled uk-margin-small-left uk-text-primary">download</span>
          </ng-template>
        </div>
      </div>
    </div>

    <p>Open Science policies are instrumental tools for advancing research transparency and collaboration, serving as critical drivers for the accessibility and dissemination of knowledge. These policies, whether implemented at national or institutional levels, signify a commitment to the principles of Open Science by mandating practices that enhance the availability of research outputs to the public and the global scientific community. On this page, you will find a detailed visualization of how various European countries have adopted such policies across different areas of Open Science, including Open Access Publications, FAIR Data, and more. It also explores the impact of these policies and investments on the dissemination of open research outputs, offering insights into the financial strategies supporting these initiatives.</p>

  </div>
</div>

<div class="uk-section uk-section-small" #exportContent1>
  <div class="uk-container uk-container-expand">

    <h5>National Open Science Policies by Areas</h5>

    <div class="uk-grid uk-margin-medium-top">
      <div class="uk-width-2-3" style="height: 450px">
        <app-multi-bar-chart [series]="barChartSeries" [categories]="barChartCategories" [titles]="barChartTitles"
                             [legendOptions]="legendOptions" valueSuffix=" %" borderRadius="50">
        </app-multi-bar-chart>
      </div>
      <div class="uk-width-1-3">
        <h6>Understanding the data</h6>
        <p>This bar chart illustrates the percentage of countries with established national policies across various Open Science areas for the years 2021 and 2022. Each bar represents a different area of Open Science, such as Open Access Publications, FAIR Data, and Citizen Science, showing the progression or changes in policy adoption from one year to the next. The comparison highlights the evolving landscape of Open Science initiatives at a national level, indicating which aspects of Open Science are gaining attention.</p>

      </div>
    </div>
  </div>
</div>

<div class="uk-section uk-section-small uk-margin-top" #exportContent2>
  <div class="uk-container uk-container-expand">

    <h5>Impact of Policy and Investment on Open Access Publications</h5>

    <div class="uk-grid uk-margin-medium-top">
      <div class="uk-width-2-3" style="height: 450px">
        <app-bubble-chart [enablePlotLines]="false" [categories]="['<1', '1-5', '5-10', '10-20','>20']"
                          xAxisTitle="Number of OA publication" yAxisTitle="Financial investmetsin OA"
                          [series]="bubbleWithCategories" [enableLegend]="true"></app-bubble-chart>
      </div>
      <div class="uk-width-1-3">
        <h6>Understanding the data</h6>
        <p>This interactive bubble chart explores the relationship between policy frameworks, financial investments, and the activity levels of Open Science (OS) initiatives across a selection of European countries. Each bubble represents a specific country, with the size indicating the percentage of OS activities relative to the total national output in this area. The bubble's color denotes the policy status—green for mandatory policies, orange for non-mandatory policies, and grey for countries without specific policies.</p>
        <p>The x-axis quantifies the actual number of OS activities, providing a measure of how actively countries are engaged in OS projects. The y-axis categorizes the level of financial investment into OS, segmented into four major categories: '<1M', '1-5M', '5-10M', and '>20M'. These categories help illustrate the financial commitment to OS projects within each country.</p>
        <p>By clicking on individual bubbles, viewers can access detailed information, including the country’s specific OS policy status, the exact count of OS activities, the percentage these constitute of total national output in this area, and the specific investment bracket.</p>
        <p><strong>Data Source: </strong>Survey on National Contributions to EOSC and Open Science, OpenAIRE Graph data for 2022 (updated on {{ lastUpdateDate }}).</p>
      </div>
    </div>
  </div>
</div>

<div class="uk-section uk-section-small uk-margin-top" #exportContent3>
  <div class="uk-container uk-container-expand">

    <h5>Financial Strategy on EOSC and Open Science by Areas</h5>

    <div class="uk-grid uk-margin-medium-top">
      <div class="uk-width-2-3" style="height: 450px">
        <app-multi-bar-chart [series]="barChart2Series" [categories]="barChartCategories" [titles]="barChart2Titles"
                             [legendOptions]="legendOptions" valueSuffix=" %" borderRadius="50">
        </app-multi-bar-chart>
      </div>
      <div class="uk-width-1-3">
        <h6>Understanding the data</h6>
        <p>This graph presents an overview of the share of countries that have implemented financial strategies to support Open Science and EOSC initiatives across various domains. It illustrates the percentage of countries that have adopted financial frameworks within categories such as Open Access Publications, Fair Data, Data Management, and more.</p>
      </div>
    </div>

  </div>
</div>

<div class="uk-section uk-section-small uk-margin-top" #exportContent4>
  <div class="uk-container uk-container-expand">

    <h5>National Open Science Policies by Countries and Areas</h5>

    <table class="uk-table uk-table-divider uk-table-middle bordered-table">
      <thead>
      <tr>
        <th></th>
        <th>
          <div class="uk-text-bold">Publications</div>
        </th>
        <th colspan="3">
          <div class="uk-text-bold">Data</div>
<!--          <div class="uk-text-secondary uk-text-small uk-text-italic">Data management</div>-->
        </th>
<!--        <th>-->
<!--          <div class="uk-text-bold">Data</div>-->
<!--          <div class="uk-text-secondary uk-text-small uk-text-italic">FAIR data</div>-->
<!--        </th>-->
<!--        <th>-->
<!--          <div class="uk-text-bold">Data</div>-->
<!--          <div class="uk-text-secondary uk-text-small uk-text-italic">Open Data</div>-->
<!--        </th>-->
        <th>
          <div class="uk-text-bold">Software</div>
        </th>
        <th>
          <div class="uk-text-bold">Services</div>
        </th>
        <th colspan="3">
          <div class="uk-text-bold">Infrastructure</div>
<!--          <div class="uk-text-secondary uk-text-small uk-text-italic">Connecting repositories to EOSC</div>-->
        </th>
<!--        <th>-->
<!--          <div class="uk-text-bold">Infrastructure</div>-->
<!--          <div class="uk-text-secondary uk-text-small uk-text-italic">Data stewardship</div>-->
<!--        </th>-->
<!--        <th>-->
<!--          <div class="uk-text-bold">Infrastructure</div>-->
<!--          <div class="uk-text-secondary uk-text-small uk-text-italic">Long-term data preservation</div>-->
<!--        </th>-->
        <th>
          <div class="uk-text-bold">Skills/Training</div>
        </th>
        <th>
          <div class="uk-text-bold">Assessment</div>
        </th>
        <th>
          <div class="uk-text-bold">Engagement</div>
        </th>
      </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of tableData">
          <td *ngFor="let item of row; let i = index" [ngClass]="{valueTrue: item === 'true', valueFalse: item==='-'}">
            <div *ngIf="i === 0" class="uk-text-bold">{{ item }}</div>
            <div *ngIf="(i===2)" uk-tooltip="Data management" style="width:100%; height:100%">
              <a style="width:100%; height:100%">&#8203;</a>
            </div>
            <div *ngIf="(i===3)" uk-tooltip="FAIR data" style="width:100%; height:100%">
              <a style="width:100%; height:100%">&#8203;</a>
            </div>
            <div *ngIf="(i===4)" uk-tooltip="Open data" style="width:100%; height:100%">
              <a style="width:100%; height:100%">&#8203;</a>
            </div>
            <div *ngIf="(i===7)" uk-tooltip="Connecting repositories to EOSC" style="width:100%; height:100%">
              <a style="width:100%; height:100%">&#8203;</a>
            </div>
            <div *ngIf="(i===8)" uk-tooltip="Data stewardship" style="width:100%; height:100%">
              <a style="width:100%; height:100%">&#8203;</a>
            </div>
            <div *ngIf="(i===9)" uk-tooltip="Long-term data preservation" style="width:100%; height:100%">
              <a style="width:100%; height:100%">&#8203;</a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

  </div>
</div>
