<div class="uk-section uk-section-small uk-padding-remove-top">
  <div class="uk-container uk-container-expand">
    <div class="uk-margin-medium-bottom">
      <h3 class="uk-text uk-margin-remove-bottom">Welcome to the {{ latestAnswerInfo.surveyName }}</h3>
      @if (stakeholder) {
        <p class="uk-text-meta uk-margin-remove-top">
          Overview for {{ stakeholder.name }}
        </p>
      }
    </div>
    @if (loading) {
      <div class="uk-flex uk-flex-center uk-margin-medium-top">
        <span uk-spinner="ratio: 2"></span>
      </div>

    } @else if (latestAnswerInfo) {
      <div class="uk-grid uk-grid-medium uk-child-width-1-3@m uk-grid-match" uk-grid>
        <div>
          <div class="uk-card uk-card-default uk-card-body uk-border-rounded">
            <div class="uk-flex uk-flex-between uk-flex-top">
              <div>
                <h6 class="uk-text-meta uk-margin-remove uk-text-uppercase"
                    style="font-size: 0.75rem; letter-spacing: 1px;">
                  Completion Rate
                </h6>
                <h2 class="uk-margin-small-top uk-margin-remove-bottom uk-text-bold" style="color: #1a2b4e;">
                  {{ (latestAnswerInfo.progressTotal.current / latestAnswerInfo.progressTotal.total) | percent:'1.0-0' }}
                </h2>
              </div>
              <div class="uk-flex uk-flex-center uk-flex-middle uk-border-rounded"
                   style="width: 48px; height: 48px; background-color: #2ecc71; color: white;">
                <span uk-icon="icon: check; ratio: 1.2"></span>
              </div>
            </div>
            <div class="uk-margin-small-top">
              <progress class="uk-progress uk-margin-remove-bottom"
                        [value]="latestAnswerInfo.progressTotal.current"
                        [max]="latestAnswerInfo.progressTotal.total"
                        style="height: 6px; border-radius: 4px;"></progress>
              <p class="uk-text-meta uk-text-right uk-margin-remove-top uk-text-small">
                {{ latestAnswerInfo.progressTotal.current }} / {{ latestAnswerInfo.progressTotal.total }} Questions
              </p>
            </div>
          </div>
        </div>

      </div>
    } @else {
      <div class="uk-alert uk-alert-primary">
        <p>No active surveys found.</p>
      </div>
    }
  </div>
</div>

