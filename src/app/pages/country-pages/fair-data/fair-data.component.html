<div class="uk-section uk-section-small">
  <div class="uk-container">

    <div class="uk-flex uk-flex-middle uk-margin-bottom">
      <img ngSrc="../../survey-tool/assets/images/flags/{{countryCode | lowercase}}-flag-round.png"
           class="flag-image" width="42" height="42" alt="rounded flag image">
      <div class="uk-margin-small-left">
        <h3 class="uk-margin-remove-bottom">{{ countryName }}</h3>
      </div>
    </div>

    <div class="uk-flex uk-flex-between uk-flex-middle">
      <h4>FAIR Data</h4>
    </div>

    <p>FAIR Data principles refer to guidelines that ensure data are Findable, Accessible, Interoperable, and Reusable. These principles aim to enhance the utility and availability of data generated by scientific research, promoting more efficient discovery and analysis by both humans and machines. The FAIR principlesadvocate for robust metadata and data standards, easy discoverability through persistent identifiers, accessible data under well-defined conditions, interoperable formats that allow integration with other datasets, and clear usage licenses to maximize data reuse.</p>

    <h4>Monitoring FAIR data and its challenges</h4>

    <p>Monitoring FAIR data is a complex task due to the evolving nature of definitions surrounding which datasets qualify as FAIR and which do not. As the criteria for assessing data against these principles are still being refined, we currently offer only a limited number of analyses on FAIR data. This limitation reflects the ongoing development in the understanding and implementation of the FAIR principles within the scientific and data management communities. As methodologies mature and definitions become more standardized, we anticipate expanding our analytical offerings to provide more comprehensive insights into FAIR data practices.</p>

    <div class="uk-flex uk-flex-between uk-flex-middle">
      <h4>General Overview of Open Data in {{countryName}} for 2023</h4>
    </div>

    <div class="uk-grid-small" data-uk-grid>

      <div class="uk-width-expand" *ngIf="hasAnyLeftCardData()">
        <div class="uk-card uk-card-default uk-card-body visualisation-card">
          <div class="uk-child-width-1-2 uk-grid-small" data-uk-grid>

            <!-- Card 1 -->
            <div *ngIf="rfoFairDataPercentage[1] !== null" class="uk-animation-scale-up">
              <div class="uk-card card-simple uk-card-small uk-card-body">
                <p>Percentage of <span class="uk-text-bold">RFO's Policy on FAIR Data</span></p>
                <div class="number big uk-margin-medium-top">
                  <span class="uk-text-bold">{{ rfoFairDataPercentage[1] }}%</span>
                </div>
                <div *ngIf="rfoFairDataPercentageDiff !== null" class="uk-flex uk-flex-bottom uk-flex-between uk-width-1-1">
                  <div class="uk-flex uk-flex-middle">
                    <span class="material-symbols-outlined" [ngClass]="rfoFairDataPercentageDiff >= 0 ? 'up-arrow-color' : 'down-arrow-color'">
                      {{ rfoFairDataPercentageDiff >= 0 ? 'arrow_upward' : 'arrow_downward' }}
                    </span>
                    <span [ngClass]="rfoFairDataPercentageDiff >= 0 ? 'up-arrow-color' : 'down-arrow-color'">
                      {{ Math.abs(rfoFairDataPercentageDiff) }}%
                    </span>&nbsp; vs last year
                  </div>
                  <div>
                    <img [ngSrc]="'../assets/images/explore/' + (rfoFairDataPercentageDiff >= 0 ? 'trend_green' : 'trend_red') + '.svg'"
                         alt="trend image" height="50" width="99">
                  </div>
                </div>
              </div>
            </div>

            <!-- Card 2 -->
            <div *ngIf="rpoFairDataPercentage[0] !== null">
              <div class="uk-card card-simple uk-card-small uk-card-body">
                <p>Percentage of <span class="uk-text-bold">RPO's Policy on FAIR Data</span></p>
                <div class="number big uk-margin-medium-top">
                  <span class="uk-text-bold">
                    {{ rpoFairDataPercentage[0] !== null ? rpoFairDataPercentage[0] + '%': 'No answer provided'}}
                  </span>
                </div>
                <div class="uk-flex uk-flex-bottom uk-flex-between uk-width-1-1">
                  <div class="uk-flex uk-flex-middle">
                    <span class="material-symbols-outlined"
                          [ngClass]="rpoFairDataPercentageDiff >= 0 ? 'up-arrow-color' : 'down-arrow-color'">
                      {{ rpoFairDataPercentageDiff >= 0 ? 'arrow_upward' : 'arrow_downward' }}
                    </span>
                    <span>{{ rpoFairDataPercentageDiff }}%</span>&nbsp; vs last year
                  </div>
                  <div>
                    <img [ngSrc]="'../assets/images/explore/' + (rpoFairDataPercentageDiff >= 0 ? 'trend_green' : 'trend_red') + '.svg'"
                         alt="trend image" height="50" width="99">
                  </div>
                </div>
              </div>
            </div>

            <!-- Card 3 -->
            <div *ngIf="financialInvestmentInFairData[1] !== null" class="uk-animation-scale-up">
              <div class="uk-card card-simple uk-card-small uk-card-body">
                <p>Total amount of <span class="uk-text-bold">financial investments</span> in FAIR Data</p>
                <div class="number big uk-margin-medium-top">
                  <span class="uk-text-bold">{{ financialInvestmentInFairData[1]  + ' mil Euro' }}</span>
                </div>
                <div *ngIf="financialInvestmentInFairDataPercentageDiff !== null" class="uk-flex uk-flex-bottom uk-flex-between uk-width-1-1">
                  <div class="uk-flex uk-flex-middle">
                    <span class="material-symbols-outlined" [ngClass]="financialInvestmentInFairDataPercentageDiff >= 0 ? 'up-arrow-color' : 'down-arrow-color'">
                      {{ financialInvestmentInFairDataPercentageDiff >= 0 ? 'arrow_upward' : 'arrow_downward' }}
                    </span>
                    <span [ngClass]="financialInvestmentInFairDataPercentageDiff >= 0 ? 'up-arrow-color' : 'down-arrow-color'">
                      {{ Math.abs(financialInvestmentInFairDataPercentageDiff) }}%
                    </span>&nbsp; vs last year
                  </div>
                  <div>
                    <img [ngSrc]="'../assets/images/explore/' + (financialInvestmentInFairDataPercentageDiff >= 0 ? 'trend_green' : 'trend_red') + '.svg'"
                         alt="trend image" height="50" width="99">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Card (2/5) -->
      <div class="uk-width-2-5 uk-animation-fade">
        <div class="uk-card uk-card-default uk-card-body visualisation-card">
          <div class="uk-margin-top">
            <h5 class="uk-flex uk-flex-between uk-margin-remove">
              National Policy on FAIR Data
              <span
               class="material-symbols-outlined"
                [ngClass]="{
                  'up-arrow-color': hasNationalPolicyFD === 'Yes',
                  'down-arrow-color': hasNationalPolicyFD === 'No',
                  'unanswered-color': hasNationalPolicyFD === null || hasNationalPolicyFD === undefined
                }">
                {{
                  hasNationalPolicyFD === 'Yes' ? 'check' :
                  hasNationalPolicyFD === 'No' ? 'close' :
                  'question_mark'
                }}
              </span>
            </h5>
            <p *ngIf="policyMandatoryFD === 'Yes'" class="uk-text-primary uk-text-bolder uk-margin-remove-top">Mandatory policy</p>
            <read-more-text *ngIf="nationalPolicyClarificationFD === 'Yes'" [maxHeight]="68" [text]="nationalPolicyClarificationFD"></read-more-text>
          </div>
          <div class="uk-margin-top">
            <h5 class="uk-flex uk-flex-between">
              Financial Strategy on FAIR Data
              <span
               class="material-symbols-outlined"
                [ngClass]="{
                  'up-arrow-color': hasFinancialStrategyFD === 'Yes',
                  'down-arrow-color': hasFinancialStrategyFD === 'No',
                  'unanswered-color': hasFinancialStrategyFD === null || hasFinancialStrategyFD === undefined
                }">
                {{
                  hasFinancialStrategyFD === 'Yes' ? 'check' :
                  hasFinancialStrategyFD === 'No' ? 'close' :
                  'question_mark'
                }}
              </span>
            </h5>
            <read-more-text *ngIf="financialStrategyClarificationFD" [maxHeight]="68" [text]="financialStrategyClarificationFD"></read-more-text>
          </div>
          <div class="uk-margin-top">
            <h5 class="uk-flex uk-flex-between">
              Monitoring on FAIR Data
              <span
               class="material-symbols-outlined"
                [ngClass]="{
                  'up-arrow-color': hasMonitoringFD === 'Yes',
                  'down-arrow-color': hasMonitoringFD === 'No',
                  'unanswered-color': hasMonitoringFD === null || hasMonitoringFD === undefined
                }">
                {{
                  hasMonitoringFD === 'Yes' ? 'check' :
                  hasMonitoringFD === 'No' ? 'close' :
                  'question_mark'
                }}
              </span>
            </h5>
            <read-more-text *ngIf="monitoringClarificationFD" [maxHeight]="68" [text]="monitoringClarificationFD"></read-more-text>
          </div>
        </div>
      </div>
    </div>
     <div class="uk-margin-top uk-flex uk-flex-center">
      <div>
       <span class="uk-text-bold">Data source:</span>&nbsp; Survey on National Contributions to EOSC and Open Science OpenAIRE Graph.
      </div>
   </div>
  </div>
</div>
