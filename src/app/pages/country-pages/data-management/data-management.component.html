<div page-content [fullWidth]="true">
  <div actions class="uk-section-primary uk-preserve-color">
    <sidebar-mobile-toggle class="uk-hidden@m uk-display-block uk-padding-small"></sidebar-mobile-toggle>
  </div>
  <div inner>
    <div class="uk-section uk-section-small">
  <div class="uk-container">

    <div class="uk-flex uk-flex-middle uk-margin-bottom">
      <img ngSrc="../../survey-tool/assets/images/flags/{{countryCode | lowercase}}-flag-round.png"
           class="flag-image" width="42" height="42" alt="rounded flag image">
      <div class="uk-margin-small-left">
        <h3 class="uk-margin-remove-bottom">{{ countryName }}</h3>
      </div>
    </div>

    <div class="uk-flex uk-flex-between uk-flex-middle">
      <h4>Data Management</h4>
    </div>

    <p>Data management refers to the process of collecting, organizing, storing, and maintaining data throughout its lifecycle. It involves ensuring that data is accessible, secure, and usable, facilitating effective decision-making and research outcomes.
       A key component of modern data management is the adherence to the FAIR principles, which emphasize making data Findable, Accessible, Interoperable, and Reusable. These principles aim to improve the transparency, accessibility, and value of data for
        researchers, enabling better collaboration and discovery while ensuring compliance with ethical and legal standards.</p>

    <div class="uk-flex uk-flex-between uk-flex-middle">
      <h4>General Overview of Data Management in {{countryName}} for 2023</h4>
    </div>

    <div class="uk-grid-small" data-uk-grid>
      <div class="uk-width-expand" *ngIf="hasAnyLeftCardData()">
        <div class="uk-card uk-card-default uk-card-body visualisation-card">
          <div class="uk-child-width-1-2 uk-grid-small" data-uk-grid>

            <!-- Card 1 -->
            <app-info-card
              *ngIf="rfoDataManagementPercentage[1] !== null && rfoDataManagementPercentage[1] !== undefined"
              [titleHtml]="`Percentage of <span class='uk-text-bold'> RFO\'s Policy on Data Management</span>`"
              [value]="rfoDataManagementPercentage[1]"
              [unit]="'%'"
              [diff]="rfoDataManagementPercentageDiff">
            </app-info-card>

            <!-- Card 2 -->
            
            <app-info-card
              [titleHtml]="`Percentage of <span class='uk-text-bold'>RPO's Policy on Data Management</span>`"
              [value]="rpoDataManagementPercentage[1]"
              [unit]="'%'"
              [diff]="rpoDataManagementPercentageDiff">
            </app-info-card>


            <!-- Card 3 -->

            <app-info-card
              *ngIf="financialInvestmentDM[1] !== null && financialInvestmentDM[1] !== undefined"
              [titleHtml]="`Total amount of <span class='uk-text-bold'>financial investments</span> in OA publications`"
              [value]="financialInvestmentDM[1]"
              [unit]="'mil Euro'"
              [diff]="financialInvestmentDMPercentageDiff">
            </app-info-card>

          </div>
        </div>
      </div>

      <!-- Right Card (2/5) -->
      <div class="uk-width-2-5 uk-animation-fade">
        <div class="uk-card uk-card-default uk-card-body visualisation-card">
          <div class="uk-margin-top">
            <h5 class="uk-flex uk-flex-between uk-margin-remove">
              National Policy on Data Management
              <span
               class="material-symbols-outlined"
                [ngClass]="{
                  'up-arrow-color': nationalPolicyResponse === 'Yes',
                  'down-arrow-color': nationalPolicyResponse === 'No',
                  'unanswered-color': nationalPolicyResponse === null || nationalPolicyResponse === undefined
                }">
                {{
                  nationalPolicyResponse === 'Yes' ? 'check' :
                  nationalPolicyResponse === 'No' ? 'close' :
                  'question_mark'
                }}
              </span>
            </h5>
            <p *ngIf="policyMandatory === 'Yes'" class="uk-text-primary uk-text-bolder uk-margin-remove-top">Mandatory policy</p>
            <read-more-text *ngIf="nationalPolicyClarification !== null" [maxHeight]="68" [text]="nationalPolicyClarification"></read-more-text>
          </div>
          <div class="uk-margin-top">
            <h5 class="uk-flex uk-flex-between">
              Financial Strategy on Data Management
              <span
               class="material-symbols-outlined"
                [ngClass]="{
                  'up-arrow-color': financialStrategyResponse === 'Yes',
                  'down-arrow-color': financialStrategyResponse === 'No',
                  'unanswered-color': financialStrategyResponse === null || financialStrategyResponse === undefined
                }">
                {{
                  financialStrategyResponse === 'Yes' ? 'check' :
                  financialStrategyResponse === 'No' ? 'close' :
                  'question_mark'
                }}
              </span>
            </h5>
            <read-more-text *ngIf="financialStrategyClarification" [maxHeight]="68" [text]="financialStrategyClarification"></read-more-text>
          </div>
          <div class="uk-margin-top">
            <h5 class="uk-flex uk-flex-between">
              Monitoring on Data Management
              <span
               class="material-symbols-outlined"
                [ngClass]="{
                  'up-arrow-color': monitoringResponse === 'Yes',
                  'down-arrow-color': monitoringResponse === 'No',
                  'unanswered-color': monitoringResponse === null || monitoringResponse === undefined
                }">
                {{
                  monitoringResponse === 'Yes' ? 'check' :
                  monitoringResponse === 'No' ? 'close' :
                  'question_mark'
                }}
              </span>
            </h5>
            <read-more-text *ngIf="monitoringClarification" [maxHeight]="68" [text]="monitoringClarification"></read-more-text>
          </div>
        </div>
      </div>
      <div class="uk-width-1-1 uk-margin-top uk-flex uk-flex-center">
        <div>
          <span class="uk-text-bold">Data source:</span>&nbsp;
          Survey on National Contributions to EOSC and Open Science OpenAIRE Graph.
        </div>
      </div>

    </div>
  </div>
</div>

    <div *ngIf="hasSurveyDataManagementData()" class="uk-section uk-section-small">
    <div class="uk-container">

      <div class="uk-margin-medium-top uk-animation-fade">
        <div class="uk-card uk-card-body uk-card-default uk-width-1-1 noads visualisation-card">
          <h5>Learn More about National Data Service</h5>
          <read-more [maxHeight]="300">
            <div id="">
              <div class="uk-text-secondary">National Data Service</div>
              <ng-container *ngIf="countrySurveyAnswer['OPEN SCIENCE DIGITAL INFRASTRUCTURE']['Question15']?.['Question15-1']; else data_service">
                <div [innerHTML]="countrySurveyAnswer['OPEN SCIENCE DIGITAL INFRASTRUCTURE']['Question15']['Question15-1']" class="uk-margin-medium-top"></div>
              </ng-container>
              <ng-template #data_service><p>N/A</p></ng-template>
            </div>
          </read-more>
        </div>
      </div>

    </div>
  </div>

    <div class="uk-section uk-section-small">
    <div class="uk-container">

      <div class="uk-child-width-1-2" data-uk-grid>
        <div *ngIf="stackedColumnSeries1[0].data.length">
          <div class="uk-card uk-card-default visualisation-card uk-card-body">
            <app-stacked-column [categories]="stackedColumnCategories" [series]="stackedColumnSeries1" [yAxis]="yAxisTitle"
                                [title]="'Trend of Policies on Data Management among Research Performing Organisations in '+ countryName"
                                [stacking]="'percent'" [plotFormat]="plotFormat" [pointFormat]="tooltipPointFormat"
                                [stackLabels]="false" [yAxisLabelsFormat]="labelFormat" [xAxis]="xAxisTitle" [height]="700"
                                [caption]="'<p class=\'uk-text-justify\'>The presented graph shows the adoption of Data Management policies among Research Performing Organisations (RPOs). It highlights the percentage of RPOs that have implemented policies mentioning Data Management, compared to those without such policies.</p>' +
                                '<p><strong>Data Source: </strong> Survey on National Contributions to EOSC and Open Science</p>'">
            </app-stacked-column>
          </div>
        </div>
        <div *ngIf="stackedColumnSeries2[0].data.length">
          <div class="uk-card uk-card-default visualisation-card uk-card-body">
            <app-stacked-column [categories]="stackedColumnCategories" [series]="stackedColumnSeries2" [yAxis]="yAxisTitle"
                                [title]="'Trend of Policies on Data Management among Research Funding Organisations in '+ countryName"
                                [stacking]="'percent'" [plotFormat]="plotFormat" [pointFormat]="tooltipPointFormat"
                                [stackLabels]="false" [yAxisLabelsFormat]="labelFormat" [xAxis]="xAxisTitle" [height]="700"
                                [caption]="'<p class=\'uk-text-justify\'>The presented graph shows Research Funding Organisations (RFOs) and their commitment to Data Management policies. It illustrates the percentage of RFOs that have implemented policies on Data Management, alongside those that have not.</p>' +
                                '<p><strong>Data Source: </strong> Survey on National Contributions to EOSC and Open Science</p>'">
            </app-stacked-column>
          </div>
        </div>
      </div>

    </div>
  </div>
  </div>
</div>
